<div class="endpoint-container" *ngIf="endpoint">
	<div class="header"
		 [ngStyle]="{cursor: isShowing ? 'default' : 'pointer'}">
		<div class="title" (click)="isShowing = true">
			{{endpoint.name}}
			<span class="args">{{getArgsPreview()}}</span></div>
		<div class="controls">
			<span class="badge mutable" *ngIf="!endpoint.modifiers.isReadonly()">Mutable</span>
			<span class="badge readonly" *ngIf="endpoint.modifiers.isReadonly()">Readonly</span>
			<button class="material-icons" *ngIf="isShowing" (click)="hide()">expand_less</button>
			<button class="material-icons" *ngIf="!isShowing" (click)="show()">expand_more</button>
		</div>
	</div>
	<ng-container *ngIf="isShowing">
		<form [formGroup]="form" class="inputs">
			<app-sc-input *ngFor="let input of endpoint?.input || []"
						  [input]="input"
						  [formControlName]="input.name"></app-sc-input>
		</form>

		<div class="result" *ngIf="resultSubject | async as result">
			{{result | json}}
		</div>

		<ng-container *ngIf="network$ | async as network">
			<app-sc-endpoint-tx-sign *ngIf="!endpoint.modifiers.isReadonly()"
									 [wallets]="wallets"
									 (onSubmit)="submitTransaction(network, $event.wallet, $event.fee)"></app-sc-endpoint-tx-sign>
			<app-sc-endpoint-query *ngIf="endpoint.modifiers.isReadonly()"
								   [wallets]="wallets"
								   (onSubmit)="sendQuery(network)"></app-sc-endpoint-query>
		</ng-container>
	</ng-container>
</div>
